(()=>{var e={705:(e,t,o)=>{var r=o(639).Symbol;e.exports=r},239:(e,t,o)=>{var r=o(705),n=o(607),i=o(333),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?n(e):i(e)}},561:(e,t,o)=>{var r=o(990),n=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(n,""):e}},957:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},607:(e,t,o)=>{var r=o(705),n=Object.prototype,i=n.hasOwnProperty,s=n.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),o=e[a];try{e[a]=void 0;var r=!0}catch(e){}var n=s.call(e);return r&&(t?e[a]=o:delete e[a]),n}},333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},639:(e,t,o)=>{var r=o(957),n="object"==typeof self&&self&&self.Object===Object&&self,i=r||n||Function("return this")();e.exports=i},990:e=>{var t=/\s/;e.exports=function(e){for(var o=e.length;o--&&t.test(e.charAt(o)););return o}},279:(e,t,o)=>{var r=o(218),n=o(771),i=o(841),s=Math.max,a=Math.min;e.exports=function(e,t,o){var c,l,g,u,d,f,h=0,p=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var o=c,r=l;return c=l=void 0,h=t,u=e.apply(r,o)}function w(e){return h=e,d=setTimeout(I,t),p?b(e):u}function $(e){var o=e-f;return void 0===f||o>=t||o<0||m&&e-h>=g}function I(){var e=n();if($(e))return T(e);d=setTimeout(I,function(e){var o=t-(e-f);return m?a(o,g-(e-h)):o}(e))}function T(e){return d=void 0,v&&c?b(e):(c=l=void 0,u)}function C(){var e=n(),o=$(e);if(c=arguments,l=this,f=e,o){if(void 0===d)return w(f);if(m)return clearTimeout(d),d=setTimeout(I,t),b(f)}return void 0===d&&(d=setTimeout(I,t)),u}return t=i(t)||0,r(o)&&(p=!!o.leading,g=(m="maxWait"in o)?s(i(o.maxWait)||0,t):g,v="trailing"in o?!!o.trailing:v),C.cancel=function(){void 0!==d&&clearTimeout(d),h=0,c=f=l=d=void 0},C.flush=function(){return void 0===d?u:T(n())},C}},218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},5:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},448:(e,t,o)=>{var r=o(239),n=o(5);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==r(e)}},771:(e,t,o)=>{var r=o(639);e.exports=function(){return r.Date.now()}},493:(e,t,o)=>{var r=o(279),n=o(218);e.exports=function(e,t,o){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return n(o)&&(i="leading"in o?!!o.leading:i,s="trailing"in o?!!o.trailing:s),r(e,t,{leading:i,maxWait:t,trailing:s})}},841:(e,t,o)=>{var r=o(561),n=o(218),i=o(448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var o=a.test(e);return o||c.test(e)?l(e.slice(2),o?2:8):s.test(e)?NaN:+e}},140:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomDelay=void 0;const n=r(o(493)),i=o(613),s=o(112),a=o(496);class c{constructor(e){this.cachedDiagnostics={},this.updateCachedDiagnosticForUri=e=>{const t=e.toString(),o=a.languages.getDiagnostics(e),r=this.cachedDiagnostics[t],n={[t]:{}};for(const e of o)n[t]&&(n[t][c.convertDiagnosticToId(e)]=e);if(r){const o=n[t],i=Object.keys(r),s=Object.keys(o);for(const e of i)s.includes(e)||this.removeItem(t,e);for(const r of s)i.includes(r)||this.addItem(e,t,r,o[r])}else this.cachedDiagnostics[t]=n[t],setTimeout((()=>{this.updateDecorationsThrottled(t)}),this.delay)},this.onDiagnosticChange=e=>{if(e.uris.length)for(const t of e.uris)this.updateCachedDiagnosticForUri(t);else this.cachedDiagnostics={}},this.removeItem=(e,t)=>{this.cachedDiagnostics[e]?.[t],this.updateDecorationsThrottled(e)},this.addItem=(e,t,o,r)=>{setTimeout((()=>{const n=a.languages.getDiagnostics(e),i={[t]:{}};for(const e of n)i[t]&&(i[t][c.convertDiagnosticToId(e)]=e);o in i[t]&&(this.cachedDiagnostics[t]&&(this.cachedDiagnostics[t][o]=r),this.updateDecorationsThrottled(t))}),this.delay)},this.updateDecorations=e=>{for(const t of a.window.visibleTextEditors)if(t.document.uri.toString()===e){if(s.Global.excludePatterns)for(const e of s.Global.excludePatterns)if(0!==a.languages.match(e,t.document))return;(0,i.doUpdateDecorations)(t,this.groupByLine(this.cachedDiagnostics[e]))}},this.delay=Math.max(e,500),this.updateDecorationsThrottled=(0,n.default)(this.updateDecorations,300,{leading:!0,trailing:!0})}static convertDiagnosticToId(e){return`${e.range.start.line}__${e.message}`}groupByLine(e){const t=Object.create(null);for(const o in e){const r=e[o];if((0,i.shouldExcludeDiagnostic)(r))continue;const n=r.range.start.line;t[n]?t[n].push(r):t[n]=[r]}return t}}t.CustomDelay=c},49:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAllCommands=void 0;const r=o(112),n=o(310),i=o(496);t.registerAllCommands=function(e){const t=i.commands.registerCommand("errorLens.toggle",(()=>{(0,n.updateGlobalSetting)("errorLens.enabled",!r.$config.enabled)})),o=i.commands.registerCommand("errorLens.toggleError",(()=>{(0,n.toggleEnabledLevels)("error",r.$config.enabledDiagnosticLevels)})),s=i.commands.registerCommand("errorLens.toggleWarning",(()=>{(0,n.toggleEnabledLevels)("warning",r.$config.enabledDiagnosticLevels)})),a=i.commands.registerCommand("errorLens.toggleInfo",(()=>{(0,n.toggleEnabledLevels)("info",r.$config.enabledDiagnosticLevels)})),c=i.commands.registerCommand("errorLens.toggleHint",(()=>{(0,n.toggleEnabledLevels)("hint",r.$config.enabledDiagnosticLevels)})),l=i.commands.registerTextEditorCommand("errorLens.copyProblemMessage",(e=>{const t={};for(const o of i.languages.getDiagnostics(e.document.uri)){const e=o.range.start.line;t[e]?t[e].push(o):t[e]=[o]}const o=t[e.selection.active.line];if(!o)return void i.window.showInformationMessage("There's no problem at the active line.");const r=o.sort(((e,t)=>e.severity-t.severity))[0],n=r.source?`[${r.source}] `:"";i.env.clipboard.writeText(n+r.message)})),g=i.commands.registerTextEditorCommand("errorLens.statusBarCommand",(async e=>{if("goToLine"===r.$config.statusBarCommand||"goToProblem"===r.$config.statusBarCommand){const t=new i.Range(r.Global.statusBarMessage.activeMessagePosition,r.Global.statusBarMessage.activeMessagePosition);e.selection=new i.Selection(t.start,t.end),e.revealRange(t,i.TextEditorRevealType.Default),await i.commands.executeCommand("workbench.action.focusActiveEditorGroup"),"goToProblem"===r.$config.statusBarCommand&&i.commands.executeCommand("editor.action.marker.next")}else if("copyMessage"===r.$config.statusBarCommand){const e=r.Global.statusBarMessage.activeMessageSource?`[${r.Global.statusBarMessage.activeMessageSource}] `:"";i.env.clipboard.writeText(e+r.Global.statusBarMessage.activeMessageText)}})),u=i.commands.registerCommand("errorLens.revealLine",(async(e,[t,o])=>{const r=new i.Range(t,o,t,o),n=await i.workspace.openTextDocument(e),s=await i.window.showTextDocument(n);s.revealRange(r),s.selection=new i.Selection(r.start.line,r.start.character,r.start.line,r.start.character)}));e.subscriptions.push(t,o,s,a,c,l,g,u)}},613:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diagnosticToInlineMessage=t.isSeverityEnabled=t.shouldExcludeDiagnostic=t.getDiagnosticAndGroupByLine=t.updateDecorationsForUri=t.updateDecorationsForAllVisibleEditors=t.doUpdateDecorations=t.setDecorationStyle=void 0;const r=o(112),n=o(394),i=o(593),s=o(496);function a(e,t,o){const s=[],a=[],c=[],l=[];let g;if("closestProblem"===r.$config.followCursor){void 0===o&&(o=e.selection);const n=o.start.line,i=Object.entries(t).sort(((e,t)=>Math.abs(n-Number(e[0]))-Math.abs(n-Number(t[0]))));i.length=r.$config.followCursorMore+1,g=i.map((e=>e[1][0].range.start.line))}for(const n in t){const f=t[n].sort(((e,t)=>e.severity-t.severity)),h=f[0],p=h.severity;if(u(p)){const t=d(r.$config.messageTemplate,h,f.length),n={after:{contentText:r.$config.messageEnabled?(0,i.truncateString)(r.$config.removeLinebreaks?(0,i.replaceLinebreaks)(t):t,r.$config.messageMaxChars):""}};let u;if("allLines"===r.$config.followCursor)u=h.range;else{void 0===o&&(o=e.selection);const t=h.range;if("activeLine"===r.$config.followCursor){const e=o.start.line-r.$config.followCursorMore,n=o.end.line+r.$config.followCursorMore;(t.start.line>=e&&t.start.line<=n||t.end.line>=e&&t.end.line<=n)&&(u=t)}else if("allLinesExceptActive"===r.$config.followCursor){const e=o.start.line,r=o.end.line;u=t.start.line>=e&&t.start.line<=r||t.end.line>=e&&t.end.line<=r?void 0:t}else"closestProblem"===r.$config.followCursor&&(g.includes(t.start.line)||g.includes(t.end.line))&&(u=t);if(!u)continue}const m={range:u,renderOptions:n};switch(p){case 0:s.push(m);break;case 1:a.push(m);break;case 2:c.push(m);break;case 3:l.push(m)}}}e.setDecorations(r.Global.decorationTypeError,s),e.setDecorations(r.Global.decorationTypeWarning,a),e.setDecorations(r.Global.decorationTypeInfo,c),e.setDecorations(r.Global.decorationTypeHint,l),r.Global.renderGutterIconsAsSeparateDecoration&&(0,n.doUpdateGutterDecorations)(e,t),r.Global.statusBarMessage.updateText(e,t)}function c(e,t,o){if(void 0===t&&(t=s.window.activeTextEditor),t&&t.document.uri.fsPath&&(r.$config.enableOnDiffView||void 0!==t.viewColumn)){if(r.Global.excludePatterns)for(const e of r.Global.excludePatterns)if(0!==s.languages.match(e,t.document))return;a(t,l(e),o)}}function l(e){const t=Object.create(null),o=s.languages.getDiagnostics(e);for(const e of o){if(g(e))continue;const o=e.range.start.line;t[o]?t[o].push(e):t[o]=[e]}return t}function g(e){if(e.source)for(const t of r.Global.excludeSources)if(t===e.source)return!0;for(const t of r.Global.excludeRegexp)if(t.test(e.message))return!0;return!1}function u(e){return!!(0===e&&r.Global.configErrorEnabled||1===e&&r.Global.configWarningEnabled||2===e&&r.Global.configInfoEnabled||3===e&&r.Global.configHintEnabled)}function d(e,t,o){if("$message"===e)return t.message;{let n=e.replace("$message",t.message).replace("$severity",r.$config.severityText[t.severity]||"");if(e.includes("$count")&&(n=o>1?n.replace("$count",String(o)):n.replace(/(\s*?)?(\S*?)?(\$count)(\S*?)?(\s*?)?/,((e,t,o,r,n,i)=>(t||"")+(i||"")))),e.includes("$source")&&(n=t.source?n.replace("$source",String(t.source)):n.replace(/(\s*?)?(\S*?)?(\$source)(\S*?)?(\s*?)?/,((e,t,o,r,n,i)=>(t||"")+(i||"")))),e.includes("$code")){const e="object"==typeof t.code?String(t.code.value):String(t.code);n=t.code?n.replace("$code",e):n.replace(/(\s*?)?(\S*?)?(\$code)(\S*?)?(\s*?)?/,((e,t,o,r,n,i)=>(t||"")+(i||"")))}return n}}t.setDecorationStyle=function(e){let t;r.Global.decorationTypeError?.dispose(),r.Global.decorationTypeWarning?.dispose(),r.Global.decorationTypeInfo?.dispose(),r.Global.decorationTypeHint?.dispose(),r.Global.decorationTypeGutterError?.dispose(),r.Global.decorationTypeGutterWarning?.dispose(),r.Global.decorationTypeGutterInfo?.dispose(),r.$config.gutterIconsEnabled&&(t=(0,n.getGutterStyles)(e),r.Global.renderGutterIconsAsSeparateDecoration&&(r.Global.decorationTypeGutterError=s.window.createTextEditorDecorationType({gutterIconPath:t.errorIconPath,gutterIconSize:r.$config.gutterIconSize,light:{gutterIconPath:t.errorIconPathLight,gutterIconSize:r.$config.gutterIconSize}}),r.Global.decorationTypeGutterWarning=s.window.createTextEditorDecorationType({gutterIconPath:t.warningIconPath,gutterIconSize:r.$config.gutterIconSize,light:{gutterIconPath:t.warningIconPathLight,gutterIconSize:r.$config.gutterIconSize}}),r.Global.decorationTypeGutterInfo=s.window.createTextEditorDecorationType({gutterIconPath:t.infoIconPath,gutterIconSize:r.$config.gutterIconSize,light:{gutterIconPath:t.infoIconPathLight,gutterIconSize:r.$config.gutterIconSize}}),t=void 0));let o=new s.ThemeColor("errorLens.errorBackground"),i=new s.ThemeColor("errorLens.errorBackgroundLight");const a=new s.ThemeColor("errorLens.errorForeground"),c=new s.ThemeColor("errorLens.errorForegroundLight");let l=new s.ThemeColor("errorLens.errorMessageBackground"),g=new s.ThemeColor("errorLens.warningBackground"),u=new s.ThemeColor("errorLens.warningBackgroundLight");const d=new s.ThemeColor("errorLens.warningForeground"),f=new s.ThemeColor("errorLens.warningForegroundLight");let h=new s.ThemeColor("errorLens.warningMessageBackground"),p=new s.ThemeColor("errorLens.infoBackground"),m=new s.ThemeColor("errorLens.infoBackgroundLight");const v=new s.ThemeColor("errorLens.infoForeground"),b=new s.ThemeColor("errorLens.infoForegroundLight");let w=new s.ThemeColor("errorLens.infoMessageBackground"),$=new s.ThemeColor("errorLens.hintBackground"),I=new s.ThemeColor("errorLens.hintBackgroundLight");const T=new s.ThemeColor("errorLens.hintForeground"),C=new s.ThemeColor("errorLens.hintForegroundLight");let y=new s.ThemeColor("errorLens.hintMessageBackground");const S=new s.ThemeColor("errorLens.statusBarErrorForeground"),D=new s.ThemeColor("errorLens.statusBarWarningForeground"),x=new s.ThemeColor("errorLens.statusBarInfoForeground"),B=new s.ThemeColor("errorLens.statusBarHintForeground");"line"===r.$config.messageBackgroundMode?(l=void 0,h=void 0,w=void 0,y=void 0):"message"===r.$config.messageBackgroundMode?(o=void 0,i=void 0,g=void 0,u=void 0,p=void 0,m=void 0,$=void 0,I=void 0):"none"===r.$config.messageBackgroundMode&&(o=void 0,i=void 0,g=void 0,u=void 0,p=void 0,m=void 0,$=void 0,I=void 0,l=void 0,h=void 0,w=void 0,y=void 0);const L=/^\d+$/,G=r.$config.fontFamily?`font-family:${r.$config.fontFamily}`:"",E=r.$config.fontSize?`font-size:${L.test(r.$config.fontSize)?`${r.$config.fontSize}px`:r.$config.fontSize}`:"",P=L.test(r.$config.margin)?`${r.$config.margin}px`:r.$config.margin,k=r.$config.padding?`padding:${L.test(r.$config.padding)?`${r.$config.padding}px`:r.$config.padding}`:"",M=`border-radius: ${r.$config.borderRadius||"0"}`,A=r.$config.scrollbarHackEnabled?"position:absolute;pointer-events:none;top:50%;transform:translateY(-50%);":"",O={fontStyle:r.$config.fontStyleItalic?"italic":"normal",fontWeight:r.$config.fontWeight,margin:`0 0 0 ${P}`,textDecoration:`none;${G};${E};${k};${M};${A}`},F={backgroundColor:o,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:t?.errorIconPath,after:{...O,color:a,backgroundColor:l},light:{backgroundColor:i,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:t?.errorIconPathLight,after:{color:c}},isWholeLine:!0},j={backgroundColor:g,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:t?.warningIconPath,after:{...O,color:d,backgroundColor:h},light:{backgroundColor:u,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:t?.warningIconPathLight,after:{color:f}},isWholeLine:!0},_={backgroundColor:p,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:t?.infoIconPath,after:{...O,color:v,backgroundColor:w},light:{backgroundColor:m,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:t?.infoIconPathLight,after:{color:b}},isWholeLine:!0},z={backgroundColor:$,after:{...O,color:T,backgroundColor:y},light:{backgroundColor:I,after:{color:C}},isWholeLine:!0};r.$config.messageEnabled||(F.backgroundColor=void 0,F.after=void 0,F.light.backgroundColor=void 0,F.light.after=void 0,j.backgroundColor=void 0,j.after=void 0,j.light.backgroundColor=void 0,j.light.after=void 0,_.backgroundColor=void 0,_.after=void 0,_.light.backgroundColor=void 0,_.light.after=void 0,z.backgroundColor=void 0,z.after=void 0,z.light.backgroundColor=void 0,z.light.after=void 0),r.Global.decorationTypeError=s.window.createTextEditorDecorationType(F),r.Global.decorationTypeWarning=s.window.createTextEditorDecorationType(j),r.Global.decorationTypeInfo=s.window.createTextEditorDecorationType(_),r.Global.decorationTypeHint=s.window.createTextEditorDecorationType(z),r.Global.statusBarMessage.statusBarColors=[S,D,x,B]},t.doUpdateDecorations=a,t.updateDecorationsForAllVisibleEditors=function(){for(const e of s.window.visibleTextEditors)c(e.document.uri,e)},t.updateDecorationsForUri=c,t.getDiagnosticAndGroupByLine=l,t.shouldExcludeDiagnostic=g,t.isSeverityEnabled=u,t.diagnosticToInlineMessage=d},977:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateOnSaveListener=t.updateCursorChangeListener=t.updateChangeDiagnosticListener=t.updateChangeVisibleTextEditorsListener=t.updateChangedActiveTextEditorListener=void 0;const r=o(140),n=o(613),i=o(112),s=o(496);t.updateChangedActiveTextEditorListener=function(){i.Global.onDidChangeActiveTextEditor?.dispose(),i.Global.onDidChangeActiveTextEditor=s.window.onDidChangeActiveTextEditor((e=>{i.$config.onSave&&(i.Global.lastSavedTimestamp=Date.now()),e?(0,n.updateDecorationsForUri)(e.document.uri,e):i.Global.statusBarMessage.clear()}))},t.updateChangeVisibleTextEditorsListener=function(){i.Global.onDidChangeVisibleTextEditors?.dispose(),i.Global.onDidChangeVisibleTextEditors=s.window.onDidChangeVisibleTextEditors(n.updateDecorationsForAllVisibleEditors)},t.updateChangeDiagnosticListener=function(){function e(e){for(const t of e.uris)for(const e of s.window.visibleTextEditors)t.fsPath===e.document.uri.fsPath&&(0,n.updateDecorationsForUri)(t,e);i.Global.statusBarIcons.updateText()}i.Global.onDidChangeDiagnosticsDisposable?.dispose(),i.$config.onSave?i.Global.onDidChangeDiagnosticsDisposable=s.languages.onDidChangeDiagnostics((t=>{Date.now()-i.Global.lastSavedTimestamp<i.$config.onSaveTimeout&&e(t)})):"number"==typeof i.$config.delay&&i.$config.delay>0?(i.Global.customDelay=new r.CustomDelay(i.$config.delay),i.Global.onDidChangeDiagnosticsDisposable=s.languages.onDidChangeDiagnostics(i.Global.customDelay.onDiagnosticChange)):i.Global.onDidChangeDiagnosticsDisposable=s.languages.onDidChangeDiagnostics(e)},t.updateCursorChangeListener=function(){if(i.Global.onDidCursorChangeDisposable?.dispose(),"activeLine"===i.$config.followCursor||"closestProblem"===i.$config.followCursor||"allLinesExceptActive"===i.$config.followCursor||i.$config.statusBarMessageEnabled){let e=999999;i.Global.onDidCursorChangeDisposable=s.window.onDidChangeTextEditorSelection((t=>{const o=t.selections[0];1===t.selections.length&&o.isEmpty&&e!==o.active.line&&((0,n.updateDecorationsForUri)(t.textEditor.document.uri,t.textEditor,o),e=t.selections[0].active.line)}))}},t.updateOnSaveListener=function(){i.Global.onDidSaveTextDocumentDisposable?.dispose(),i.$config.onSave&&(i.Global.onDidSaveTextDocumentDisposable=s.workspace.onWillSaveTextDocument((e=>{e.reason===s.TextDocumentSaveReason.Manual&&(setTimeout((()=>{(0,n.updateDecorationsForUri)(e.document.uri)}),200),i.Global.lastSavedTimestamp=Date.now())})))}},112:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.disposeEverything=t.updateEverything=t.activate=t.Global=t.$config=void 0;const r=o(49),n=o(613),i=o(977),s=o(358),a=o(274),c=o(496);class l{}function g(e){!function(){l.excludeRegexp=[],l.excludeSources=t.$config.excludeBySource;for(const e of t.$config.exclude)"string"==typeof e&&l.excludeRegexp.push(new RegExp(e,"i"));Array.isArray(t.$config.excludePatterns)&&0!==t.$config.excludePatterns.length?l.excludePatterns=t.$config.excludePatterns.map((e=>({pattern:e}))):l.excludePatterns=void 0}(),l.renderGutterIconsAsSeparateDecoration=t.$config.gutterIconsEnabled&&t.$config.gutterIconsFollowCursorOverride&&"allLines"!==t.$config.followCursor,l.statusBarMessage?.dispose(),l.statusBarIcons?.dispose(),l.statusBarMessage=new a.StatusBarMessage(t.$config.statusBarMessageEnabled,t.$config.statusBarColorsEnabled,t.$config.statusBarMessageType,t.$config.statusBarMessagePriority,t.$config.statusBarMessageAlignment),l.statusBarIcons=new s.StatusBarIcons(t.$config.statusBarIconsEnabled,t.$config.statusBarIconsAtZero,t.$config.statusBarIconsUseBackground,t.$config.statusBarIconsPriority,t.$config.statusBarIconsAlignment),(0,n.setDecorationStyle)(e),l.configErrorEnabled=t.$config.enabledDiagnosticLevels.includes("error"),l.configWarningEnabled=t.$config.enabledDiagnosticLevels.includes("warning"),l.configInfoEnabled=t.$config.enabledDiagnosticLevels.includes("info"),l.configHintEnabled=t.$config.enabledDiagnosticLevels.includes("hint"),(0,n.updateDecorationsForAllVisibleEditors)(),l.statusBarIcons.updateText(),(0,i.updateChangeDiagnosticListener)(),(0,i.updateChangeVisibleTextEditorsListener)(),(0,i.updateOnSaveListener)(),(0,i.updateCursorChangeListener)(),(0,i.updateChangedActiveTextEditorListener)()}function u(){l.decorationTypeError?.dispose(),l.decorationTypeWarning?.dispose(),l.decorationTypeInfo?.dispose(),l.decorationTypeHint?.dispose(),l.decorationTypeGutterError?.dispose(),l.decorationTypeGutterWarning?.dispose(),l.decorationTypeGutterInfo?.dispose(),l.onDidChangeVisibleTextEditors?.dispose(),l.onDidChangeDiagnosticsDisposable?.dispose(),l.onDidChangeActiveTextEditor?.dispose(),l.onDidSaveTextDocumentDisposable?.dispose(),l.onDidCursorChangeDisposable?.dispose(),l.statusBarMessage?.dispose(),l.statusBarIcons?.dispose()}t.Global=l,l.configErrorEnabled=!0,l.configWarningEnabled=!0,l.configInfoEnabled=!0,l.configHintEnabled=!0,l.excludeRegexp=[],l.excludeSources=[],l.excludePatterns=void 0,l.lastSavedTimestamp=Date.now()+2e3,t.activate=function(e){function o(){t.$config=c.workspace.getConfiguration().get("errorLens"),u(),t.$config.enabled&&g(e)}o(),(0,r.registerAllCommands)(e),e.subscriptions.push(c.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration("errorLens")&&o()})))},t.updateEverything=g,t.disposeEverything=u,t.deactivate=function(){}},394:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doUpdateGutterDecorations=t.getGutterStyles=void 0;const r=o(613),n=o(112),i=o(593);function s(e){return`<svg xmlns="http://www.w3.org/2000/svg" height="30" width="30"><circle cx="15" cy="15" r="9" fill="%23${e.slice(1)}"/></svg>`}t.getGutterStyles=function(e){const t=Object.create(null);return t.iconSet=n.$config.gutterIconSet,"circle"===n.$config.gutterIconSet?(t.errorIconPath=(0,i.svgToUri)(s(n.$config.errorGutterIconColor)),t.errorIconPathLight=(0,i.svgToUri)(s(n.$config.light.errorGutterIconColor||n.$config.errorGutterIconColor)),t.warningIconPath=(0,i.svgToUri)(s(n.$config.warningGutterIconColor)),t.warningIconPathLight=(0,i.svgToUri)(s(n.$config.light.warningGutterIconColor||n.$config.warningGutterIconColor)),t.infoIconPath=(0,i.svgToUri)(s(n.$config.infoGutterIconColor)),t.infoIconPathLight=(0,i.svgToUri)(s(n.$config.light.infoGutterIconColor||n.$config.infoGutterIconColor))):(t.errorIconPath=e.asAbsolutePath(`./img/${t.iconSet}/error-dark.svg`),t.errorIconPathLight=e.asAbsolutePath(`./img/${t.iconSet}/error-light.svg`),t.warningIconPath=e.asAbsolutePath(`./img/${t.iconSet}/warning-dark.svg`),t.warningIconPathLight=e.asAbsolutePath(`./img/${t.iconSet}/warning-light.svg`),t.infoIconPath=e.asAbsolutePath(`./img/${t.iconSet}/info-dark.svg`),t.infoIconPathLight=e.asAbsolutePath(`./img/${t.iconSet}/info-light.svg`)),n.$config.errorGutterIconPath&&(t.errorIconPath=n.$config.errorGutterIconPath),(n.$config.light.errorGutterIconPath||n.$config.errorGutterIconPath)&&(t.errorIconPathLight=n.$config.light.errorGutterIconPath||n.$config.errorGutterIconPath),n.$config.warningGutterIconPath&&(t.warningIconPath=n.$config.warningGutterIconPath),(n.$config.light.warningGutterIconPath||n.$config.warningGutterIconPath)&&(t.warningIconPathLight=n.$config.light.warningGutterIconColor||n.$config.warningGutterIconPath),n.$config.infoGutterIconPath&&(t.infoIconPath=n.$config.infoGutterIconPath),(n.$config.light.infoGutterIconPath||n.$config.infoGutterIconPath)&&(t.infoIconPathLight=n.$config.light.infoGutterIconColor||n.$config.infoGutterIconPath),t},t.doUpdateGutterDecorations=function(e,t){const o=[],i=[],s=[];for(const e in t){const n=t[e].sort(((e,t)=>e.severity-t.severity))[0],a=n.severity;if((0,r.isSeverityEnabled)(a)){const e={range:n.range};switch(a){case 0:o.push(e);break;case 1:i.push(e);break;case 2:s.push(e)}}}e.setDecorations(n.Global.decorationTypeGutterError,o),e.setDecorations(n.Global.decorationTypeGutterWarning,i),e.setDecorations(n.Global.decorationTypeGutterInfo,s)}},310:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleEnabledLevels=t.updateGlobalSetting=void 0;const r=o(496);function n(e,t){r.workspace.getConfiguration().update(e,t,r.ConfigurationTarget.Global)}t.updateGlobalSetting=n,t.toggleEnabledLevels=function(e,t){const o=t.indexOf(e);-1!==o?t.splice(o,1):t.push(e),n("errorLens.enabledDiagnosticLevels",t)}},358:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarIcons=void 0;const n=r(o(17)),i=o(496);t.StatusBarIcons=class{constructor(e,t,o,r,n){this.isEnabled=e,this.atZero=t,this.useBackground=o,this.errorBackground=new i.ThemeColor("statusBarItem.errorBackground"),this.warningBackground=new i.ThemeColor("statusBarItem.warningBackground"),this.errorForeground=new i.ThemeColor("errorLens.statusBarIconErrorForeground"),this.warningForeground=new i.ThemeColor("errorLens.statusBarIconWarningForeground"),this.statusBarColors=[],this.activeMessagePosition=new i.Position(0,0),this.activeMessageText="",this.activeMessageSource="";const s="right"===n?i.StatusBarAlignment.Right:i.StatusBarAlignment.Left;this.errorStatusBarItem=i.window.createStatusBarItem("errorLensError",s,r),this.errorStatusBarItem.name="Error Lens: Error icon",this.errorStatusBarItem.command="workbench.actions.view.problems",this.warningStatusBarItem=i.window.createStatusBarItem("errorLensWarning",s,r-1),this.warningStatusBarItem.name="Error Lens: Warning icon",this.warningStatusBarItem.command="workbench.actions.view.problems",this.setBackground("error",this.errorBackground),this.setBackground("warning",this.warningBackground),this.errorStatusBarItem.color=this.errorForeground,this.warningStatusBarItem.color=this.warningForeground,this.isEnabled?(this.errorStatusBarItem.show(),this.warningStatusBarItem.show()):this.dispose()}updateText(){if(!this.isEnabled)return;const e=i.languages.getDiagnostics(),t=[],o=[];let r=0,n=0;for(const i of e){const e=i[0],s=i[1],a=[],c=[];for(const e of s)0===e.severity?a.push(e):1===e.severity&&c.push(e);r+=a.length,n+=c.length,a.length&&t.push([e,a]),c.length&&o.push([e,c])}0===r?"hide"===this.atZero?this.errorStatusBarItem.text="":(this.setBackground("error",""),this.errorStatusBarItem.text=`$(error) ${r}`,this.errorStatusBarItem.tooltip=this.makeTooltip(t,"error")):(this.setBackground("error",this.errorBackground),this.errorStatusBarItem.text=`$(error) ${r}`,this.errorStatusBarItem.tooltip=this.makeTooltip(t,"error")),0===n?"hide"===this.atZero?this.warningStatusBarItem.text="":(this.setBackground("warning",""),this.warningStatusBarItem.text=`$(warning) ${n}`,this.warningStatusBarItem.tooltip=this.makeTooltip(o,"warning")):(this.setBackground("warning",this.warningBackground),this.warningStatusBarItem.text=`$(warning) ${n}`,this.warningStatusBarItem.tooltip=this.makeTooltip(o,"warning"))}makeTooltip(e,t){const o=new i.MarkdownString(void 0,!0);o.isTrusted=!0;for(const r of e){const e=r[0],s=r[1];s.length&&o.appendMarkdown(`**${n.default.basename(e.path)}**\n\n`);for(const r of s){const n=i.Uri.parse(`command:errorLens.revealLine?${encodeURIComponent(JSON.stringify([e.fsPath,[r.range.start.line,r.range.start.character]]))}`);o.appendMarkdown(`<span style="color:${"error"===t?"#e45454":"#ff942f"};">$(${t})</span> [${r.message} \`${r.source}\`](${n})\n\n`)}}return o}setBackground(e,t){this.useBackground&&("error"===e?this.errorStatusBarItem.backgroundColor=t:"warning"===e&&(this.warningStatusBarItem.backgroundColor=t))}dispose(){this.errorStatusBarItem.dispose(),this.warningStatusBarItem.dispose()}}},274:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarMessage=void 0;const r=o(613),n=o(112),i=o(593),s=o(496);t.StatusBarMessage=class{constructor(e,t,o,r,n){this.isEnabled=e,this.colorsEnabled=t,this.messageType=o,this.statusBarColors=[],this.activeMessagePosition=new s.Position(0,0),this.activeMessageText="",this.activeMessageSource="";const i="right"===n?s.StatusBarAlignment.Right:s.StatusBarAlignment.Left;this.colorsEnabled=t,this.messageType=o,this.statusBarItem=s.window.createStatusBarItem("errorLensMessage",i,r),this.statusBarItem.name="Error Lens: Message",this.statusBarItem.command="errorLens.statusBarCommand",this.isEnabled?this.statusBarItem.show():this.dispose()}updateText(e,t){if(!this.isEnabled)return;const o=Object.keys(t);if(0===o.length)return void this.clear();const s=e.selection.active.line;let a,c=0;if("activeLine"===this.messageType){if(!t[s])return void this.clear();for(const e of t[s])(0,r.isSeverityEnabled)(e.severity)&&(a=e,c=t[s].length)}else if("closestProblem"===this.messageType){const e=o.map(Number).sort(((e,t)=>Math.abs(s-e)-Math.abs(s-t)));e:for(const o of e){const e=t[o];for(const t of e)if((0,r.isSeverityEnabled)(t.severity)){a=t,c=e.length;break e}}}else if("closestSeverity"===this.messageType){const e=o.map((e=>t[e])).flat().sort(((e,t)=>1e4*e.severity-1e4*t.severity+(Math.abs(s-e.range.start.line)-Math.abs(s-t.range.start.line))));for(const o of e)if((0,r.isSeverityEnabled)(o.severity)){a=o,c=t[o.range.start.line].length;break}}if(!a)return void this.clear();this.activeMessagePosition=a.range.start;let l=(0,r.diagnosticToInlineMessage)(n.$config.statusBarMessageTemplate||n.$config.messageTemplate,a,c);n.$config.removeLinebreaks&&(l=(0,i.replaceLinebreaks)(l)),this.activeMessageText=l,this.activeMessageSource=a.source,this.colorsEnabled&&(this.statusBarItem.color=this.statusBarColors[a.severity]),this.statusBarItem.text=l,this.statusBarItem.tooltip=l}clear(){this.isEnabled&&(this.statusBarItem.text="",this.statusBarItem.tooltip="")}dispose(){this.statusBarItem.dispose()}}},593:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.svgToUri=t.replaceLinebreaks=t.truncateString=void 0;const r=o(496);t.truncateString=function(e,t){const o=[...e];return o.length>t?`${o.slice(0,t).join("")}â€¦`:e},t.replaceLinebreaks=function(e){return e.replace(/[\n\r\t]+/g," ")},t.svgToUri=function(e){return r.Uri.parse(`data:image/svg+xml;utf8,${e}`)}},496:e=>{"use strict";e.exports=require("vscode")},17:e=>{"use strict";e.exports=require("path")}},t={},o=function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,o),i.exports}(112);module.exports=o})();